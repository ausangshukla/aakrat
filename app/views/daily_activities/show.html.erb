<%= render "/layouts/alerts" %>

<div class="d-sm-flex align-items-center justify-content-between mb-4">
  <h1>
    <%= link_to @daily_activity.project.name, @daily_activity.project %> :
    <%= link_to @daily_activity.step.phase.name, @daily_activity.step %> :
    <%= link_to @daily_activity.step.name, @daily_activity.step %> :
    <%= @daily_activity.title %>
  </h1>
</div>

  <table class="table table-bordered dataTable">

    <tr>
      <td>
        User
      </td>
      <td>
        <%= @daily_activity.user.full_name %>
      </td>
    </tr>
    <tr>
      <td>
        Project
      </td>
      <td>
        <%= link_to @daily_activity.project.name, @daily_activity.project %>
      </td>
    </tr>
    <tr>
      <td>
        Step
      </td>
      <td>
        <%= link_to @daily_activity.step.name, step_path(@daily_activity.step, tab: "activities-tab" ) %>
      </td>
    </tr>
    <tr>
      <td>
        Title
      </td>
      <td>
        <%= @daily_activity.title %>
      </td>
    </tr>

    <tr>
      <td>
        Details
      </td>
      <td>
        <%= @daily_activity.details %>
      </td>
    </tr>

    <tr>
      <td>
        On
      </td>
      <td>
        <%= l @daily_activity.on_date if @daily_activity.on_date %>
      </td>
    </tr>
    <tr>
      <td>
        Status
      </td>
      <td>
        <% badge_color = @daily_activity.status == "Completed" ? "badge-success" : "badge-warning" %>
        <span class="badge <%= badge_color %>">
          <%= @daily_activity.status %>
        </span>
      </td>
    </tr>
    <tr>
      <td>
        Cost
      </td>
      <td>
        <%= @daily_activity.cost %>
      </td>
    </tr>


  </table>


  <div>
    <% if policy(@daily_activity).update? %>
      <%= link_to "Edit" , edit_daily_activity_path(@daily_activity), {class: "btn btn-primary" } %> |
      <%= button_to "Delete" , @daily_activity, method: :delete, class: "btn btn-danger" , form_class: "deleteButton"%>
    <% end %>
  </div>